<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="index.js"></script>
    <link rel="stylesheet" href="index.css">
</head>

<body>
    <button id="btnGET">发起不带参数的get请求</button>
    <button id="btnGETINFO">发起带参数的get请求</button>
    <button id="btnPOST">发起带参数的post请求</button>
    <button id="ajaxGET">发起ajax的get请求</button>
    <button id="ajaxPOST">发起ajax的post请求</button>
    <script>
        //ajax发起get请求
        // $.get(url,[data],[callback])
        $(function() {
            $('#btnGET').on('click', function() {
                $.get('http://www.liulongbin.top:3006/api/getbooks', function(res) {
                    console.log(res);
                })
            })
            $('#btnGETINFO').on('click', function() { //请求id为1的数据
                $.get('http://www.liulongbin.top:3006/api/getbooks', {
                    id: 1
                }, function(res) {
                    console.log(res);
                })
            })
        })

        //ajax发起post请求
        // $.post(url,[data],[callback])
        $(function() {
            $('#btnPOST').on('click', function() {
                $.post('http://www.liulongbin.top:3006/api/addbook', {
                    bookname: '水浒传',
                    author: '施耐庵',
                    publisher: '上海图书出版社'
                }, function(res) {
                    console.log(res);
                })
            })
        })

        //$.ajax()既可以发get也可以发post请求
        // $.ajax({
        //     type: '', 请求方式
        //     url: '', 请求的url地址
        //     data: {}, 请求要携带的数据
        //     success: function(res) {} 请求成功之后的回调函数
        // })
        $('#ajaxGET').on('click', function() {
            $.ajax({
                type: 'GET',
                url: 'http://www.liulongbin.top:3006/api/getbooks',
                data: {
                    id: 1
                },
                success: function(result) {
                    console.log(result);
                }

            })
        })
        $('#ajaxPOST').on('click', function() {
            $.ajax({
                type: 'POST',
                url: 'http://www.liulongbin.top:3006/api/addbook',
                data: {
                    bookname: '史记',
                    author: '司马迁',
                    publisher: '上海图书出版社'
                },
                success: function(result) {
                    console.log(result);
                }

            })
        })
    </script>
</body>

</html>